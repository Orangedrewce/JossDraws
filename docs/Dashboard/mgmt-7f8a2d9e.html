<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="robots" content="noindex, nofollow">
    <title>Admin | Dashboard</title>
    <link rel="preconnect" href="https://pciubbwphwpnptgawgok.supabase.co">
    <link rel="preload" href="css/mgmt.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="css/mgmt.css"></noscript>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
    <script type="module" src="js/mgmt.js"></script>
</head>
<body data-active-shader="ribbon_wave">
    <main class="card">
        <div class="card-header">
            <h1>Admin Dashboard</h1>
            <button type="button" id="themeToggle" class="mini-btn secondary theme-toggle" aria-pressed="false" title="Toggle dark mode">Dark Mode</button>
            <p class="description">Manage review links, customer reviews, gallery artwork, hero slides, shop products, About content, banner settings, analytics, and admin settings</p>
        </div>

        <details class="recent-links" open>
            <summary class="section-summary section-summary--lead">
                <span>Review Link Generator</span>
            </summary>

        <form id="generatorForm">
            <label for="sourceSelect">Select Source Type</label>
            <select id="sourceSelect" name="source">
            </select>

            <button id="generateBtn" type="submit">
                Generate Link
            </button>
        </form>

        <div id="errorMessage" class="error-message is-hidden" role="alert" aria-live="assertive"></div>

        <div id="resultArea" class="is-hidden" role="status" aria-live="polite">
            <div class="result-label">Send this one-time link to your customer (expires in 30 days):</div>
            <div class="link-container">
                <input 
                    type="text" 
                    id="linkOutput" 
                    class="link-box" 
                    readonly 
                >
                <button 
                    id="copyBtn" 
                    class="copy-btn" 
                    type="button"
                >
                    Copy
                </button>
            </div>
            <div class="source-tag" id="sourceTag"></div>
        </div>
        </details>

        <!-- Performance Stats Removed (Redundant) -->

        <hr class="divider is-hidden" id="linksDivider">

        <div class="recent-links is-hidden" id="recentLinksContainer">
            <div class="recent-links-title-row">
                <button type="button" class="recent-links-title" id="recentLinksToggle" aria-expanded="false" aria-controls="recentLinks">
                    <span id="recentLinksTitle">üìã Recent Review Links</span>
                    <span class="expand-arrow collapsed" id="expandArrow">‚ñº</span>
                </button>
                <button type="button" class="filter-badge clear-filter is-hidden" id="clearFilterBtn" title="Clear filter">‚úñ Clear</button>
            </div>
            <div id="recentLinks" class="is-hidden">
                <p class="filter-hint">Click a source name to filter recent links</p>
                <div id="recentLinksList"></div>
                <div id="recentLinksSentinel" class="links-sentinel"></div>
            </div>
        </div>

        <div class="empty-state is-hidden" id="emptyState">
            <div class="empty-state-icon">üì≠</div>
            <div class="empty-state-text">No links generated yet</div>
        </div>

        <!-- ================================================ -->
        <!-- BULK IMPORT REVIEWS ‚Äî Paste JSON here             -->
        <!-- ================================================ -->
        <details class="recent-links" id="bulkImportSection">
            <summary class="section-summary">
                <span>Bulk Import Reviews</span>
            </summary>

            <div class="gallery-section-content">
                <p class="description section-description">Paste an Etsy reviews JSON export below, then click Import. Duplicates are auto-skipped. Imported reviews publish immediately (approved).</p>

                <form id="bulkImportForm" class="gallery-form">
                    <label for="bulkImportSource">Import Source</label>
                    <select id="bulkImportSource">
                        <option value="auto" selected>üîç Auto-detect (by keywords)</option>
                        <option value="etsy">üõçÔ∏è Etsy (generic)</option>
                        <option value="sticker">üè∑Ô∏è Sticker</option>
                        <option value="print">üñ®Ô∏è Art Print</option>
                        <option value="bookmark">üîñ Bookmark</option>
                        <option value="coloring_book">üñçÔ∏è Coloring Book</option>
                        <option value="commission">üé® Commission</option>
                        <option value="general">üìã General</option>
                    </select>

                    <label for="bulkImportJson">Paste Review JSON</label>
                    <textarea id="bulkImportJson" rows="10" placeholder='[{"reviewer":"Name","date_reviewed":"MM/DD/YYYY","star_rating":5,"message":"...","order_id":123}]' spellcheck="false"></textarea>

                    <div class="bulk-import-actions">
                        <button id="bulkImportBtn" type="submit">Import Reviews</button>
                        <button id="bulkImportClearBtn" type="button" class="mini-btn">Clear</button>
                    </div>
                </form>

                <div id="bulkImportMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>
            </div>
        </details>

        <!-- ================================================ -->
        <!-- REVIEW MANAGER ‚Äî Approve / Deny / Delete / Restore -->
        <!-- ================================================ -->
        <details class="recent-links" id="reviewSection">
            <summary class="section-summary">
                <span>Review Manager</span>
            </summary>

            <div class="gallery-section-content">
                <p class="description section-description">Approve, unpublish, delete, restore, or permanently purge customer reviews. Customer-submitted reviews start pending until approved.</p>

                <div class="review-filter-tabs" id="reviewTabs">
                    <button type="button" class="review-tab active" data-tab="pending">‚è≥ Pending <span id="reviewPendingCount" class="review-tab-count">0</span></button>
                    <button type="button" class="review-tab" data-tab="approved">‚úÖ Approved <span id="reviewApprovedCount" class="review-tab-count">0</span></button>
                    <button type="button" class="review-tab" data-tab="deleted">üóëÔ∏è Trash <span id="reviewDeletedCount" class="review-tab-count">0</span></button>
                </div>

                <div id="reviewMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>

                <div id="reviewList" class="review-list">
                    <p class="text-muted-2 text-xs">Open this section to load reviews...</p>
                </div>
            </div>
        </details>

        <details class="recent-links" id="gallerySection">
            <summary class="section-summary">
                <span>Gallery Manager</span>
            </summary>

            <div class="gallery-section-content">
                <p class="description section-description">Add artwork to the website gallery. Google Drive share links auto-convert; direct image URLs also work. <em>Drag items to reorder.</em> Randomize Selected shuffles the order of selected visible (active) items.</p>

                <form id="galleryForm" class="gallery-form">
                    <label for="galleryUrl">Image URL</label>
                    <input type="text" id="galleryUrl" placeholder="Paste Google Drive share link or direct image URL" autocomplete="off">
                    <div id="galleryUrlStatus" class="gallery-url-status is-hidden"></div>
                    <div id="galleryPreview" class="gallery-preview is-hidden"></div>

                    <label for="galleryTitle">Artwork Title <span class="text-danger">*</span></label>
                    <input type="text" id="galleryTitle" placeholder="e.g. Rough Waters" required>

                    <label for="galleryMedium">Medium (optional)</label>
                    <input type="text" id="galleryMedium" list="mediumOptions" placeholder="e.g. Digital, Canvas, Physical">
                    <datalist id="mediumOptions">
                        <option value="Digital">
                        <option value="Canvas">
                        <option value="Physical">
                        <option value="Mixed Media">
                    </datalist>

                    <label for="galleryYear">Year Created (optional)</label>
                    <input type="number" id="galleryYear" min="1900" max="2100" placeholder="e.g. 2024">

                    <div id="galleryCaptionPreview" class="gallery-caption-preview"></div>

                    <button type="submit" id="galleryAddBtn" class="gallery-add-btn">Add to Gallery</button>
                </form>

                <div id="galleryMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>

                <div class="gallery-items-list">
                    <div id="galleryBulkBar" class="gallery-bulk-bar is-hidden">
                        <input type="checkbox" id="gallerySelectAll" class="gallery-select-all" title="Select / deselect all" aria-label="Select all gallery items">
                        <span id="gallerySelectCount" class="gallery-select-count">Select all</span>
                        <div id="galleryBulkBtns" class="gallery-bulk-btns is-hidden">
                                <button type="button" id="galleryRandomizeBtn" class="mini-btn secondary" title="Shuffle sort order of selected visible (active) items">üé≤ Randomize Selected</button>
                        </div>
                    </div>
                    <div id="galleryCount" class="gallery-count"></div>
                    <div id="galleryList"><p class="text-muted-2 text-xs">Open this section to load gallery items...</p></div>
                </div>
            </div>
        </details>

        <details class="recent-links" id="heroSection">
            <summary class="section-summary">
                <span>Hero Slideshow Manager</span>
            </summary>

            <div class="gallery-section-content">
                <p class="description section-description">Manage the banner images at the top of the landing page. A random active slide is picked on each page load. Google Drive share links auto-convert; direct image URLs also work. <em>Drag items to reorder.</em></p>

                <form id="heroForm" class="gallery-form">
                    <label for="heroUrl">Image URL</label>
                    <input type="text" id="heroUrl" placeholder="Paste Google Drive share link or direct image URL" autocomplete="off">
                    <div id="heroUrlStatus" class="gallery-url-status is-hidden"></div>
                    <div id="heroPreview" class="gallery-preview is-hidden"></div>

                    <button type="submit" id="heroAddBtn" class="gallery-add-btn">Add Slide</button>
                </form>

                <div id="heroMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>

                <div class="gallery-items-list">
                    <div id="heroCount" class="gallery-count"></div>
                    <div id="heroList"><p class="text-muted-2 text-xs">Open this section to load hero slides...</p></div>
                </div>
            </div>
        </details>

        <!-- ================================================ -->
        <!-- SHOP MANAGER - ETSY PRODUCT CARDS CMS -->
        <!-- ================================================ -->
        <details class="recent-links" id="shopSection">
            <summary class="section-summary">
                <span>Shop Manager</span>
            </summary>

            <div class="gallery-section-content">
                <p class="description section-description">
                    Manage Etsy product cards shown in the Shop tab. Google Drive share links auto-convert; other URLs are used as-is.
                    <em>Drag items to reorder.</em>
                </p>

                <form id="shopForm" class="gallery-form">
                    <input type="hidden" id="shopId">

                    <label for="shopTitle">Product Title <span class="text-danger">*</span></label>
                    <input type="text" id="shopTitle" placeholder="e.g. Custom Pet Portrait" required>

                    <label for="shopPrice">Price Display <span class="text-danger">*</span></label>
                    <input type="text" id="shopPrice" placeholder="e.g. $79.00+" required>

                    <label for="shopUrl">Etsy URL <span class="text-danger">*</span></label>
                    <input type="url" id="shopUrl" placeholder="https://www.etsy.com/listing/..." required>



                    <label for="shopMedia">Media URLs (one per line) <span class="text-danger">*</span></label>
                    <textarea id="shopMedia" rows="4" placeholder="Paste URLs here (Google Drive links auto-convert)" required></textarea>
                    <small class="form-hint">Supports images and videos (.mp4). First URL = thumbnail.</small>

                    <div id="shopPreview" class="gallery-preview shop-preview is-hidden"></div>

                    <label class="checkbox-label">
                        <input type="checkbox" id="shopActive" checked>
                        <span>Active (visible on website)</span>
                    </label>

                    <div class="shop-form-actions">
                        <button type="submit" id="shopSaveBtn" class="gallery-add-btn">Save Product</button>
                        <button type="button" id="shopCancelBtn" class="gallery-edit-cancel is-hidden">Cancel</button>
                    </div>
                </form>

                <div id="shopMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>

                <!-- PAGE TITLES EDITOR -->
                <div class="shop-page-titles-editor">
                    <h4 class="shop-page-titles-heading">Page Titles</h4>
                    <p class="description shop-page-titles-description">
                        Shop displays 3 items per page. Each page can have an optional title shown above the cards.
                        Leave blank to hide the title for that page.
                    </p>
                    <div id="shopPageTitlesList"></div>
                    <div class="shop-page-title-actions">
                        <button type="button" id="shopAddPageTitleBtn" class="gallery-add-btn shop-page-title-btn">+ Add Page</button>
                        <button type="button" id="shopSavePageTitlesBtn" class="gallery-add-btn shop-page-title-btn">Save Titles</button>
                    </div>
                    <div id="shopPageTitlesMsg" class="gallery-msg is-hidden shop-page-titles-msg" role="status"></div>
                </div>

                <div class="gallery-items-list">
                    <div id="shopCount" class="gallery-count"></div>
                    <div id="shopList"><p class="text-muted-2 text-xs">Open this section to load shop items...</p></div>
                </div>
            </div>
        </details>

        <!-- ================================================ -->
        <!-- ABOUT PAGE EDITOR ‚Äî Photo + Bio CMS -->
        <!-- ================================================ -->
        <details class="recent-links" id="aboutSection">
            <summary class="section-summary">
                <span>About Page Editor</span>
            </summary>

            <div class="gallery-section-content">
                <p class="description section-description">Edit the photo and bio text shown on the About tab. Paste a Google Drive share link for the photo.</p>

                <div class="about-editor-preview" id="aboutPreviewArea">
                    <div class="about-preview-photo" id="aboutPreviewPhoto">
                        <span class="about-placeholder-icon">üë§</span>
                    </div>
                    <div class="about-preview-text" id="aboutPreviewText">
                        <span class="text-muted-2 text-2xs">Loading current content...</span>
                    </div>
                </div>

                <form id="aboutForm" class="gallery-form form-margin-top">
                    <label for="aboutPhotoUrl">Photo URL (Google Drive)</label>
                    <input type="text" id="aboutPhotoUrl" placeholder="Paste Google Drive share link here..." autocomplete="off">
                    <div id="aboutUrlStatus" class="gallery-url-status is-hidden"></div>
                    <div id="aboutPhotoPreview" class="gallery-preview is-hidden"></div>

                    <label for="aboutBioText">Bio / About Text (HTML allowed)</label>
                    <textarea id="aboutBioText" rows="10" placeholder="Write your bio here... HTML tags like <strong>, <em>, <br>, <h3>, <p> are supported."></textarea>
                    <small class="form-hint">Supports basic HTML: &lt;strong&gt;, &lt;em&gt;, &lt;br&gt;, &lt;h3&gt;, &lt;p&gt;. Changes go live after saving (visitors see it on refresh).</small>

                    <button type="submit" id="aboutSaveBtn" class="gallery-add-btn">Save Changes</button>
                </form>

                <div id="aboutMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>
            </div>
        </details>

        <!-- ================================================ -->
        <!-- BANNER PARAMETER ADJUSTMENT -->
        <!-- ================================================ -->
        <details class="recent-links" id="bannerParamsSection">
            <summary class="section-summary">
                <span>Banner Parameters</span>
            </summary>

            <div class="gallery-section-content">
                <p class="description section-description">Fine-tune the animated banner's visual and motion parameters with a live preview. Publish to Site saves the current settings for visitors. Saved Profiles are stored in this browser only.</p>

                <!-- Live Preview -->
                <div class="banner-preview-wrapper" id="bannerPreviewWrapper">
                    <canvas id="shaderCanvas"></canvas>
                    <div class="banner-preview-overlay" id="bannerPreviewOverlay">
                        <span class="text-muted-2 text-xs">Open section to load preview...</span>
                    </div>
                </div>

                <!-- Shader Mode Selector -->
                <div class="param-control shader-mode-control">
                    <label for="shader-active">Shader Mode</label>
                    <select id="shader-active">
                        <option value="ribbon_wave" selected>Ribbon Wave</option>
                        <option value="simple_ribbon">Simple Ribbon</option>
                        <option value="paint_drip">Paint Drip</option>
                        <option value="gooey_drip">Gooey Drip</option>
                        <option value="groovy">Groovy</option>
                        <option value="painter">Painter</option>
                    </select>
                </div>

                <!-- Geometry & Physics -->
                <details class="param-category" data-shader-mode="ribbon_wave" open>
                    <summary class="param-category-title">Ribbon Thickness &amp; Stretch</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="thickness-base">Base Thickness</label>
                            <input type="range" id="thickness-base" min="0.05" max="0.3" step="0.01" value="0.10">
                            <input type="number" id="thickness-base-num" min="0.05" max="0.3" step="0.01" value="0.10">
                        </div>
                        <div class="param-control">
                            <label for="thickness-stretchMin">Stretch Min</label>
                            <input type="range" id="thickness-stretchMin" min="0.5" max="1.0" step="0.05" value="0.8">
                            <input type="number" id="thickness-stretchMin-num" min="0.5" max="1.0" step="0.05" value="0.8">
                        </div>
                        <div class="param-control">
                            <label for="thickness-stretchMax">Stretch Max</label>
                            <input type="range" id="thickness-stretchMax" min="1.0" max="1.5" step="0.05" value="1.2">
                            <input type="number" id="thickness-stretchMax-num" min="1.0" max="1.5" step="0.05" value="1.2">
                        </div>
                        <div class="param-control">
                            <label for="thickness-stretchSpeed">Stretch Speed</label>
                            <input type="range" id="thickness-stretchSpeed" min="0.5" max="3.0" step="0.1" value="1.3">
                            <input type="number" id="thickness-stretchSpeed-num" min="0.5" max="3.0" step="0.1" value="1.3">
                        </div>
                        <div class="param-control">
                            <label for="thickness-stretchFrequency">Stretch Frequency</label>
                            <input type="range" id="thickness-stretchFrequency" min="1.0" max="5.0" step="0.1" value="2.5">
                            <input type="number" id="thickness-stretchFrequency-num" min="1.0" max="5.0" step="0.1" value="2.5">
                        </div>
                    </div>
                </details>

                <!-- Wave Dynamics -->
                <details class="param-category" data-shader-mode="ribbon_wave">
                    <summary class="param-category-title">Wave Motion &amp; Undulation</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="wave-mainSpeed">Main Speed</label>
                            <input type="range" id="wave-mainSpeed" min="0.1" max="3.0" step="0.1" value="1.0">
                            <input type="number" id="wave-mainSpeed-num" min="0.1" max="3.0" step="0.1" value="1.0">
                        </div>
                        <div class="param-control">
                            <label for="wave-mainFrequency">Main Frequency</label>
                            <input type="range" id="wave-mainFrequency" min="1.0" max="6.0" step="0.1" value="3.0">
                            <input type="number" id="wave-mainFrequency-num" min="1.0" max="6.0" step="0.1" value="3.0">
                        </div>
                        <div class="param-control">
                            <label for="wave-mainAmplitude">Main Amplitude</label>
                            <input type="range" id="wave-mainAmplitude" min="0.05" max="0.5" step="0.05" value="0.25">
                            <input type="number" id="wave-mainAmplitude-num" min="0.05" max="0.5" step="0.05" value="0.25">
                        </div>
                        <div class="param-control">
                            <label for="wave-secondarySpeed">Secondary Speed</label>
                            <input type="range" id="wave-secondarySpeed" min="0.1" max="3.0" step="0.1" value="1.8">
                            <input type="number" id="wave-secondarySpeed-num" min="0.1" max="3.0" step="0.1" value="1.8">
                        </div>
                        <div class="param-control">
                            <label for="wave-secondaryFreq">Secondary Frequency</label>
                            <input type="range" id="wave-secondaryFreq" min="0.5" max="3.0" step="0.1" value="1.1">
                            <input type="number" id="wave-secondaryFreq-num" min="0.5" max="3.0" step="0.1" value="1.1">
                        </div>
                        <div class="param-control">
                            <label for="wave-secondaryAmp">Secondary Amplitude</label>
                            <input type="range" id="wave-secondaryAmp" min="0.01" max="0.3" step="0.01" value="0.1">
                            <input type="number" id="wave-secondaryAmp-num" min="0.01" max="0.3" step="0.01" value="0.1">
                        </div>
                        <div class="param-control">
                            <label for="wave-horizontalSpeed">Horizontal Speed</label>
                            <input type="range" id="wave-horizontalSpeed" min="0.1" max="2.0" step="0.1" value="0.7">
                            <input type="number" id="wave-horizontalSpeed-num" min="0.1" max="2.0" step="0.1" value="0.7">
                        </div>
                        <div class="param-control">
                            <label for="wave-horizontalFrequency">Horizontal Frequency</label>
                            <input type="range" id="wave-horizontalFrequency" min="0.5" max="4.0" step="0.1" value="2.0">
                            <input type="number" id="wave-horizontalFrequency-num" min="0.5" max="4.0" step="0.1" value="2.0">
                        </div>
                        <div class="param-control">
                            <label for="wave-horizontalAmount">Horizontal Amount</label>
                            <input type="range" id="wave-horizontalAmount" min="0.05" max="0.5" step="0.05" value="0.25">
                            <input type="number" id="wave-horizontalAmount-num" min="0.05" max="0.5" step="0.05" value="0.25">
                        </div>
                        <div class="param-control">
                            <label for="wave-offsetBlend">Offset Blend</label>
                            <input type="range" id="wave-offsetBlend" min="0.0" max="1.0" step="0.05" value="0.3">
                            <input type="number" id="wave-offsetBlend-num" min="0.0" max="1.0" step="0.05" value="0.3">
                        </div>
                    </div>
                </details>

                <!-- World Rotation -->
                <details class="param-category" data-shader-mode="ribbon_wave">
                    <summary class="param-category-title">World Rotation</summary>
                    <div class="param-grid">
                        <div class="param-control param-toggle">
                            <label for="twist-enabled">Enable Rotation</label>
                            <input type="checkbox" id="twist-enabled" checked>
                        </div>
                        <div class="param-control">
                            <label for="twist-intensity">Speed (rad/s)</label>
                            <input type="range" id="twist-intensity" min="-2.0" max="2.0" step="0.05" value="0.5">
                            <input type="number" id="twist-intensity-num" min="-2.0" max="2.0" step="0.05" value="0.5">
                        </div>
                    </div>
                </details>

                <!-- Visual Styling -->
                <details class="param-category" data-shader-mode="ribbon_wave">
                    <summary class="param-category-title">Lighting, Gloss &amp; Shadows</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="appearance-brightness">Brightness</label>
                            <input type="range" id="appearance-brightness" min="0.5" max="2.0" step="0.025" value="1.125">
                            <input type="number" id="appearance-brightness-num" min="0.5" max="2.0" step="0.025" value="1.125">
                        </div>
                        <div class="param-control param-toggle">
                            <label for="appearance-plasticEffect">Plastic Effect</label>
                            <input type="checkbox" id="appearance-plasticEffect" checked>
                        </div>
                        <div class="param-control">
                            <label for="appearance-centerSoftness">Center Softness</label>
                            <input type="range" id="appearance-centerSoftness" min="0.01" max="0.5" step="0.01" value="0.35">
                            <input type="number" id="appearance-centerSoftness-num" min="0.01" max="0.5" step="0.01" value="0.35">
                        </div>
                        <div class="param-control">
                            <label for="appearance-specularPower">Specular Power</label>
                            <input type="range" id="appearance-specularPower" min="10.0" max="100.0" step="5.0" value="50.0">
                            <input type="number" id="appearance-specularPower-num" min="10.0" max="100.0" step="5.0" value="50.0">
                        </div>
                        <div class="param-control">
                            <label for="appearance-specularIntensity">Specular Intensity</label>
                            <input type="range" id="appearance-specularIntensity" min="0.0" max="1.5" step="0.05" value="0.75">
                            <input type="number" id="appearance-specularIntensity-num" min="0.0" max="1.5" step="0.05" value="0.75">
                        </div>
                        <div class="param-control">
                            <label for="appearance-shadowStrength">Shadow Strength</label>
                            <input type="range" id="appearance-shadowStrength" min="0.0" max="0.5" step="0.05" value="0.1">
                            <input type="number" id="appearance-shadowStrength-num" min="0.0" max="0.5" step="0.05" value="0.1">
                        </div>
                        <div class="param-control">
                            <label for="appearance-shadowWidth">Shadow Width</label>
                            <input type="range" id="appearance-shadowWidth" min="0.5" max="5.0" step="0.1" value="2.0">
                            <input type="number" id="appearance-shadowWidth-num" min="0.5" max="5.0" step="0.1" value="2.0">
                        </div>
                        <div class="param-control">
                            <label for="appearance-aaSharpness">AA Sharpness</label>
                            <input type="range" id="appearance-aaSharpness" min="0.1" max="2.0" step="0.1" value="0.5">
                            <input type="number" id="appearance-aaSharpness-num" min="0.1" max="2.0" step="0.1" value="0.5">
                        </div>
                        <div class="param-control">
                            <label for="appearance-aaFallback">AA Fallback</label>
                            <input type="number" id="appearance-aaFallback" min="0.0001" max="0.01" step="0.0001" value="0.001">
                        </div>
                    </div>
                </details>

                <!-- Positioning -->
                <details class="param-category" data-shader-mode="ribbon_wave">
                    <summary class="param-category-title">Vertical Position &amp; Band Count</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="positioning-verticalOffset">Vertical Offset</label>
                            <input type="range" id="positioning-verticalOffset" min="-0.5" max="0.5" step="0.005" value="0.205">
                            <input type="number" id="positioning-verticalOffset-num" min="-0.5" max="0.5" step="0.005" value="0.205">
                        </div>
                        <div class="param-control">
                            <label for="positioning-bandCount">Band Count</label>
                            <input type="number" id="positioning-bandCount" min="1" max="10" step="1" value="5">
                        </div>
                    </div>
                </details>

                <!-- Interaction -->
                <details class="param-category" data-shader-mode="all">
                    <summary class="param-category-title">Hover Slowdown &amp; Smoothing</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="interaction-hoverSlowdown">Hover Slowdown</label>
                            <input type="range" id="interaction-hoverSlowdown" min="0.0" max="1.0" step="0.05" value="0.1">
                            <input type="number" id="interaction-hoverSlowdown-num" min="0.0" max="1.0" step="0.05" value="0.1">
                        </div>
                        <div class="param-control">
                            <label for="interaction-smoothTime">Smooth Time (s)</label>
                            <input type="range" id="interaction-smoothTime" min="0.05" max="1.0" step="0.05" value="0.25">
                            <input type="number" id="interaction-smoothTime-num" min="0.05" max="1.0" step="0.05" value="0.25">
                        </div>
                    </div>
                </details>

                <!-- Performance -->
                <details class="param-category" data-shader-mode="all">
                    <summary class="param-category-title">Supersampling &amp; Render Options</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="performance-supersampleDesktop">Supersample Desktop</label>
                            <input type="range" id="performance-supersampleDesktop" min="1.0" max="4.0" step="0.1" value="2.5">
                            <input type="number" id="performance-supersampleDesktop-num" min="1.0" max="4.0" step="0.1" value="2.5">
                        </div>
                        <div class="param-control">
                            <label for="performance-supersampleMobile">Supersample Mobile</label>
                            <input type="range" id="performance-supersampleMobile" min="1.0" max="2.0" step="0.1" value="1.0">
                            <input type="number" id="performance-supersampleMobile-num" min="1.0" max="2.0" step="0.1" value="1.0">
                        </div>
                        <div class="param-control">
                            <label for="performance-mobileBreakpoint">Mobile Breakpoint (px)</label>
                            <input type="number" id="performance-mobileBreakpoint" min="320" max="1024" step="1" value="768">
                        </div>
                        <div class="param-control param-toggle">
                            <label for="performance-respectDPR">Respect DPR</label>
                            <input type="checkbox" id="performance-respectDPR" checked>
                        </div>
                        <div class="param-control param-toggle">
                            <label for="performance-pauseWhenHidden">Pause When Hidden</label>
                            <input type="checkbox" id="performance-pauseWhenHidden" checked>
                        </div>
                        <div class="param-control">
                            <label for="performance-maxDeltaTime">Max Delta Time (s)</label>
                            <input type="range" id="performance-maxDeltaTime" min="0.01" max="0.2" step="0.01" value="0.05">
                            <input type="number" id="performance-maxDeltaTime-num" min="0.01" max="0.2" step="0.01" value="0.05">
                        </div>
                        <div class="param-control param-toggle">
                            <label for="performance-debugMode">Debug Mode</label>
                            <input type="checkbox" id="performance-debugMode">
                        </div>
                    </div>
                </details>

                <!-- Paint Drip Dynamics -->
                <details class="param-category" data-shader-mode="paint_drip">
                    
                    <summary class="param-category-title">Paint Drip Dynamics</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="drip-scale">Pattern Scale</label>
                            <input type="range" id="drip-scale" min="0.1" max="5.0" step="0.1" value="1.0">
                            <input type="number" id="drip-scale-num" min="0.1" max="5.0" step="0.1" value="1.0">
                        </div>
                        <div class="param-control">
                            <label for="drip-density">Drip Density</label>
                            <input type="range" id="drip-density" min="0.0" max="1.0" step="0.05" value="0.75">
                            <input type="number" id="drip-density-num" min="0.0" max="1.0" step="0.05" value="0.75">
                        </div>
                        <div class="param-control">
                            <label for="drip-distance">Drip Spacing</label>
                            <input type="range" id="drip-distance" min="0.02" max="0.5" step="0.01" value="0.1">
                            <input type="number" id="drip-distance-num" min="0.02" max="0.5" step="0.01" value="0.1">
                        </div>
                        <div class="param-control">
                            <label for="drip-sdfWidth">Drop Thickness</label>
                            <input type="range" id="drip-sdfWidth" min="0.05" max="0.5" step="0.01" value="0.18">
                            <input type="number" id="drip-sdfWidth-num" min="0.05" max="0.5" step="0.01" value="0.18">
                        </div>
                        <div class="param-control">
                            <label for="drip-fallSpeed">Fall Speed</label>
                            <input type="range" id="drip-fallSpeed" min="1.0" max="15.0" step="0.5" value="6.0">
                            <input type="number" id="drip-fallSpeed-num" min="1.0" max="15.0" step="0.5" value="6.0">
                        </div>
                        <div class="param-control">
                            <label for="drip-bFreq">Bounce Frequency</label>
                            <input type="range" id="drip-bFreq" min="0.5" max="10.0" step="0.1" value="3.5">
                            <input type="number" id="drip-bFreq-num" min="0.5" max="10.0" step="0.1" value="3.5">
                        </div>
                        <div class="param-control">
                            <label for="drip-bRange">Bounce Range</label>
                            <input type="range" id="drip-bRange" min="0.05" max="1.0" step="0.05" value="0.35">
                            <input type="number" id="drip-bRange-num" min="0.05" max="1.0" step="0.05" value="0.35">
                        </div>
                        <div class="param-control">
                            <label for="drip-viscosity">Viscosity</label>
                            <input type="range" id="drip-viscosity" min="0.0" max="3.0" step="0.1" value="1.5">
                            <input type="number" id="drip-viscosity-num" min="0.0" max="3.0" step="0.1" value="1.5">
                        </div>
                    </div>
                </details>

                <!-- Gooey Drip Dynamics -->
                <details class="param-category" data-shader-mode="gooey_drip">
                    
                    <summary class="param-category-title">Gooey Drip Dynamics</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="gooey-animSpeed">Sweep Speed</label>
                            <input type="range" id="gooey-animSpeed" min="0.1" max="8.0" step="0.1" value="2.0">
                            <input type="number" id="gooey-animSpeed-num" min="0.1" max="8.0" step="0.1" value="2.0">
                        </div>
                        <div class="param-control">
                            <label for="gooey-paintLength">Paint Length</label>
                            <input type="range" id="gooey-paintLength" min="2.0" max="30.0" step="0.5" value="15.0">
                            <input type="number" id="gooey-paintLength-num" min="2.0" max="30.0" step="0.5" value="15.0">
                        </div>
                        <div class="param-control">
                            <label for="gooey-loopSize">Loop Size</label>
                            <input type="range" id="gooey-loopSize" min="16.0" max="60.0" step="1.0" value="24.0">
                            <input type="number" id="gooey-loopSize-num" min="16.0" max="60.0" step="1.0" value="24.0">
                        </div>
                    </div>
                </details>

                <!-- Groovy Shader Controls -->
                <details class="param-category" data-shader-mode="groovy">
                    <summary class="param-category-title">Groovy Swirl Controls</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="groovy-speed">Speed</label>
                            <input type="range" id="groovy-speed" min="0" max="3.0" step="0.1" value="1.0">
                            <input type="number" id="groovy-speed-num" min="0" max="3.0" step="0.1" value="1.0">
                        </div>
                        <div class="param-control">
                            <label for="groovy-mixPowerMin">Mix Power Min</label>
                            <input type="range" id="groovy-mixPowerMin" min="0" max="1.0" step="0.05" value="0.15">
                            <input type="number" id="groovy-mixPowerMin-num" min="0" max="1.0" step="0.05" value="0.15">
                        </div>
                        <div class="param-control">
                            <label for="groovy-mixPowerMax">Mix Power Max</label>
                            <input type="range" id="groovy-mixPowerMax" min="0" max="2.0" step="0.05" value="0.80">
                            <input type="number" id="groovy-mixPowerMax-num" min="0" max="2.0" step="0.05" value="0.80">
                        </div>
                        <div class="param-control">
                            <label for="groovy-iterations">Iterations</label>
                            <input type="range" id="groovy-iterations" min="1" max="20" step="1" value="11">
                            <input type="number" id="groovy-iterations-num" min="1" max="20" step="1" value="11">
                        </div>
                        <div class="param-control">
                            <label for="groovy-mouseInfluence">Mouse Influence</label>
                            <input type="range" id="groovy-mouseInfluence" min="0.5" max="10.0" step="0.5" value="3.0">
                            <input type="number" id="groovy-mouseInfluence-num" min="0.5" max="10.0" step="0.5" value="3.0">
                        </div>
                    </div>
                </details>

                <!-- Painter Shader Controls -->
                <details class="param-category" data-shader-mode="painter">
                    <summary class="param-category-title">Painter Brush Controls</summary>
                    <div class="param-grid">
                        <div class="param-control">
                            <label for="painter-brushSize">Brush Size</label>
                            <input type="range" id="painter-brushSize" min="5" max="200" step="1" value="80">
                            <input type="number" id="painter-brushSize-num" min="5" max="200" step="1" value="80">
                        </div>
                        <div class="param-control">
                            <label for="painter-softness">Softness</label>
                            <input type="range" id="painter-softness" min="0.3" max="3.0" step="0.1" value="1.2">
                            <input type="number" id="painter-softness-num" min="0.3" max="3.0" step="0.1" value="1.2">
                        </div>
                        <div class="param-control">
                            <label for="painter-noiseScale">Noise Scale</label>
                            <input type="range" id="painter-noiseScale" min="1.0" max="20.0" step="0.5" value="4.0">
                            <input type="number" id="painter-noiseScale-num" min="1.0" max="20.0" step="0.5" value="4.0">
                        </div>
                        <div class="param-control">
                            <label for="painter-noiseInfluence">Noise Influence</label>
                            <input type="range" id="painter-noiseInfluence" min="0.0" max="1.0" step="0.05" value="0.4">
                            <input type="number" id="painter-noiseInfluence-num" min="0.0" max="1.0" step="0.05" value="0.4">
                        </div>
                        <div class="param-control">
                            <label for="painter-cycleSpeed">Color Cycle Speed</label>
                            <input type="range" id="painter-cycleSpeed" min="0.0" max="1.0" step="0.05" value="0.2">
                            <input type="number" id="painter-cycleSpeed-num" min="0.0" max="1.0" step="0.05" value="0.2">
                        </div>
                    </div>
                </details>

                <!-- Saved Profiles -->
                <div class="saved-profiles-section">
                    <h4 class="saved-profiles-heading">Saved Profiles</h4>
                    <p class="description saved-profiles-description">
                        Save your current settings as a named profile, or load a previously saved configuration. Profiles are stored locally in this browser.
                    </p>

                    <div id="profilesList" class="profiles-list">
                        <p class="text-muted-2 text-xs profiles-empty">No saved profiles in this browser yet. Click ‚Äúüíæ Save as Profile‚Äù below to create one.</p>
                    </div>

                    <div id="saveProfileForm" class="save-profile-form is-hidden">
                        <label for="profileNameInput">Profile Name</label>
                        <input
                            type="text"
                            id="profileNameInput"
                            placeholder="e.g. Calm Waves, Energetic Flow, Night Mode"
                            maxlength="50"
                            autocomplete="off"
                        >
                        <div class="save-profile-actions">
                            <button type="button" id="confirmSaveProfile" class="btn-secondary">Save</button>
                            <button type="button" id="cancelSaveProfile" class="btn-reset">Cancel</button>
                        </div>
                    </div>

                    <div id="profilesMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>
                </div>

                <!-- Actions -->
                <div class="param-actions">
                    <button type="button" id="reset-params" class="btn-reset">Reset to Defaults</button>
                    <button type="button" id="save-profile-btn" class="btn-secondary">üíæ Save as Profile</button>
                    <button type="button" id="export-params" class="btn-apply">Publish to Site</button>
                </div>

                <div id="bannerParamsMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>
            </div>
        </details>

        <details class="recent-links" id="analyticsSection">
            <summary class="section-summary">
                <span>Analytics Hub</span>
            </summary>

            <div class="gallery-section-content">
                <p class="description section-description">View site analytics for the selected period. Clear All Data permanently deletes all stored analytics events.</p>

                <!-- Period selector & refresh -->
                <div class="analytics-controls">
                    <select id="analyticsPeriod">
                        <option value="7">Last 7 Days</option>
                        <option value="30" selected>Last 30 Days</option>
                        <option value="90">Last 90 Days</option>
                        <option value="0">All Time</option>
                    </select>
                    <button type="button" id="analyticsRefreshBtn" class="mini-btn">Refresh</button>
                    <button type="button" id="analyticsClearBtn" class="mini-btn danger">Clear All Data</button>
                </div>

                <!-- Tab navigation -->
                <div class="analytics-tabs" role="tablist">
                    <button type="button" class="analytics-tab active" data-analytics-tab="gallery" role="tab" aria-selected="true">Gallery</button>
                    <button type="button" class="analytics-tab" data-analytics-tab="traffic" role="tab" aria-selected="false">Traffic</button>
                    <button type="button" class="analytics-tab" data-analytics-tab="shop" role="tab" aria-selected="false">Shop</button>
                    <button type="button" class="analytics-tab" data-analytics-tab="journey" role="tab" aria-selected="false">Journey</button>
                </div>

                <!-- Panels -->
                <div id="analyticsGalleryPanel" class="analytics-panel active" role="tabpanel" data-analytics-panel="gallery">
                    <p class="text-muted-2 text-xs">Open this section to load gallery analytics...</p>
                </div>

                <div id="analyticsTrafficPanel" class="analytics-panel" role="tabpanel" data-analytics-panel="traffic">
                    <p class="text-muted-2 text-xs">Open this section to load traffic analytics...</p>
                </div>

                <div id="analyticsShopPanel" class="analytics-panel" role="tabpanel" data-analytics-panel="shop">
                    <p class="text-muted-2 text-xs">Open this section to load shop analytics...</p>
                </div>

                <div id="analyticsJourneyPanel" class="analytics-panel" role="tabpanel" data-analytics-panel="journey">
                    <p class="text-muted-2 text-xs">Open this section to load journey analytics...</p>
                </div>

                <div id="analyticsMessage" class="gallery-msg is-hidden" role="status" aria-live="polite"></div>
            </div>
        </details>

        <details class="recent-links" id="settingsSection">
            <summary class="section-summary">
                <span>Settings</span>
            </summary>
            <div class="gallery-section-content">
                <form class="gallery-form" onsubmit="return false;">
                    <label for="currentCodeInput">Current Admin Code</label>
                    <input type="password" id="currentCodeInput" placeholder="Current code" autocomplete="current-password">
                    <label for="newCodeInput">New Admin Code</label>
                    <input type="password" id="newCodeInput" placeholder="New code (min 4 characters)" autocomplete="new-password">
                    <label for="confirmCodeInput">Confirm New Code</label>
                    <input type="password" id="confirmCodeInput" placeholder="Re-enter new code" autocomplete="new-password">
                    <button type="button" id="changeCodeBtn" class="btn-warning">Change Admin Code</button>
                </form>
                <div id="changeCodeMessage" class="is-hidden gallery-msg change-code-message"></div>
            </div>
        </details>
    </main>
</body>
</html>